<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>What is logging? :: Apache Logging Services</title>
    <link rel="canonical" href="https://logging.apache.org/what-is-logging.html">
    <meta name="generator" content="Antora 3.2.0-alpha.11">
<link rel="stylesheet" href="./_/css/site.css">
<link rel="icon" href="./_/../_images/favicon.ico" type="image/x-icon">
<!-- `@asciidoctor/tabs` extension styles -->
<link rel="stylesheet" href="./_/css/vendor/tabs.css">
<style>
  /* Swap colors of `IMPORTANT` and `WARNING` blocks */ 
  .doc .admonitionblock.important .icon { background-color: #f70; }
  .doc .admonitionblock.warning .icon { background-color: #e40046; }
  /* Default `h4`, `h5`, and `h6` are smaller than the normal text, fix header font sizing: */
  .doc h1 { font-size: 1.9rem; }
  .doc h2 { font-size: 1.7rem; }
  .doc h3 { font-size: 1.5rem; font-weight: 400; }
  .doc h4 { font-size: 1.3rem; font-weight: 500; }
  .doc h5 { font-size: 1.1rem; font-weight: 500; text-decoration: underline; }
  .doc h6 { font-size: 0.9rem; font-weight: 500; text-decoration: underline; }
  /* Default `code`, `pre`, and `.colist` (source code annotations) fonts are too big, adjust them: */
  .doc .colist>table code, .doc p code, .doc thead code { font-size: 0.8em; }
  .doc pre { font-size: 0.7rem; }
  .doc .colist { font-size: 0.75rem; }
  /* Make links more visible: */
  .doc a { text-decoration: underline; }
  .doc a code { text-decoration: underline; color: #1565c0; }
  /* Make nav bar wider */
  .nav-container { width:19rem; }
  /* Tab header fonts aren't rendered good, adjusting the font weight: */
  .tablist > ul li { font-weight: 500; }
  /* `page-toclevels` greater than 4 are not supported by Antora UI, patching it: */
  .toc .toc-menu li[data-level="4"] a {
    padding-left: 2.75rem;
  }
  /* Replace the default highlight.js color for strings from red (unnecessarily signaling something negative) to green: */
  .hljs-string {
    color: #0f8532;
  }
</style>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
    <a class="navbar-item" href="https://logging.apache.org">Logging Services</a>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://apache.org">a project of&nbsp;<strong>Apache Software Foundation</strong></a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="ROOT" data-version="">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">Home</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">About</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="guidelines.html">Guidelines</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="charter.html">Charter</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="team-list.html">Team</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="processes.html">Processes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://cwiki.apache.org/confluence/display/LOGGING/Home">Wiki</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="what-is-logging.html">What is logging?</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="download.html">Download</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="support.html">Support</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="security.html">Security</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="xml/ns/index.html">XML Schema</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="blog/index.html">Blog</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="https://apache.org">The ASF</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://apache.org/licenses/">License</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://apache.org/foundation/sponsorship">Donate</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="https://apache.org/foundation/sponsors">Thanks</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">Home</a></li>
    <li>About</li>
    <li><a href="what-is-logging.html">What is logging?</a></li>
  </ul>
</nav>
<div class="edit-this-page"><a href="https://github.com/apache/logging-site/edit/main/src/site/antora/modules/ROOT/pages/what-is-logging.adoc">Edit this Page</a></div>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">What is logging?</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>At a high level, logging is used to capture information during the run of an
application.  This can include different types of information about both the
state of the application and inputs to the application.  For example, an HTTP
server may log information about incoming connections(such as an IP address).
Logging can also be at different levels of verbosity, in order to allow a user
of the application to not be overwhelmed with too much information.</p>
</div>
<div class="paragraph">
<p>Logging can be broadly classified into two categories.  The two main categories
of logging are debug logging and audit logging.  Debug logging is generally
useful for application developers who can turn on messages that an end-user
does not care about - for example, if data is being parsed correctly, or if an
exception is thrown.  Audit logging is more interesting to system
administrators.  This type of data would include information such as when
somebody logged in, who changed a piece of information, etc.  Debug logging and
audit logging are not mutually exclusive, and there can be plenty of overlap
between these two categories.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_should_a_logging_framework_do"><a class="anchor" href="#_what_should_a_logging_framework_do"></a>What should a logging framework do?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>At a minimum, a logging framework needs to be able to do the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Easily allow you to create log messages</p>
</li>
<li>
<p>Send log messages to stdout and/or stderr</p>
</li>
<li>
<p>Be completely transparent to your application - your application should
behave exactly the same no matter if logging is enabled or disabled</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>However, a logging framework that does only these things is not particularly
useful, and no better than using <code>System.out.println()</code> or <code>printf()</code>.  Common
features of logging frameworks generally include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Ability to send log messages to other places than just stdout/stderr.  For
example, common places to send logs could be:</p>
<div class="olist loweralpha">
<ol class="loweralpha" type="a">
<li>
<p>syslog</p>
</li>
<li>
<p>A file on the local filesystem</p>
</li>
<li>
<p>Remote log server(e.g. ELK, Splunk, kibana, etc.)</p>
</li>
<li>
<p>Windows event log</p>
</li>
<li>
<p>Database</p>
</li>
</ol>
</div>
</li>
<li>
<p>Filtering based off of levels and data</p>
</li>
<li>
<p>Location information of where the log statement is in the code</p>
</li>
<li>
<p>Allow for rotation of files when logging to a file.  This allows you to do
things such as creating a new log whenever you start up, doing one log file per
day, limiting files to a specific size, etc.</p>
</li>
<li>
<p>Log to multiple locations at once(send the same data to stdout and a file for
example)</p>
</li>
<li>
<p>Classify messages based off of the particular subsystem that they are from</p>
</li>
<li>
<p>Format log messages according to some user-defined pattern</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is not an exhaustive list of all features that could exist.  There are
many different logging frameworks that exist which may implement different
subsets of these features, and may also have more features than are listed here.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_log_levels_and_subsystem_classification"><a class="anchor" href="#_log_levels_and_subsystem_classification"></a>Log Levels and Subsystem Classification</h2>
<div class="sectionbody">
<div class="paragraph">
<p>When you are logging information, two of the most important things to know are
the level of the log message and the subsystem that the log message is from.
This allows you to determine how severe something is, as well as where it is
coming from.</p>
</div>
<div class="paragraph">
<p>The traditional log levels are as follows(from most verbose to least verbose):
TRACE
DEBUG
INFO
WARN
ERROR</p>
</div>
<div class="paragraph">
<p>In addition, levels of CRITICAL and FATAL may exist as well.  Generally, FATAL
indicates that the application is about to exit, while CRITICAL is similar to
ERROR.</p>
</div>
<div class="paragraph">
<p>Levels make it easy to quickly filter messages.  Since more verbose messages
still allow less verbose messages to be printed, you don&#8217;t lose information by
turning the verbosity up.  When you are working on a particular subsystem, you
may want that subsystem to be at the DEBUG level to see all the messages, or
TRACE if there is something that you really need to see.  As a general rule of
thumb, when your application is in production the default level of all loggers
should be at the INFO level.</p>
</div>
<div class="paragraph">
<p>Subsystems help to classify the data as well.  In Java, this is generally done
by the package that a class is in.  Being able to set a particular subsystem
that you are debugging to the DEBUG level(and not just a single class) is an
important part of being able to easily filter information and to not overload
the programmer who is debugging the application.</p>
</div>
<div class="paragraph">
<p>Within the Apache Logging Services projects(log4j2, log4cxx, and log4net) this
subsystem classification follows the Java hierarchical approach.  If you have a
logger org.apache.Foo and org.apache.Bar, you can set the level of org.apache
to DEBUG and both loggers will be at the DEBUG level, but can also be
individually set if required.  This hierarchical way of logging is not a
feature that all logging frameworks have, however it is very useful if your
code is organized in a way such that all classes have individual loggers and
are logically separated into subsystems appropriately.  This also allows for
more granular control over your debug statements.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_where_to_put_logs"><a class="anchor" href="#_where_to_put_logs"></a>Where to put logs?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Logging to different locations(sometimes called sinks) is an important part of
logging frameworks.  For simple applications, you may not need to do anything
more complicated than just send data to stdout and/or a file.  However, more
complicated applications quickly need to have more flexibility in how and where
they log information.  Modern applications can log to web-based log aggregators
in addition to a local log mechanism such as syslog.</p>
</div>
<div class="paragraph">
<p>By configuring these log locations through an external source such as a config
file, it also makes it possible for the end-user to configure the system for
their particular use-case.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_transparent_logging"><a class="anchor" href="#_transparent_logging"></a>Transparent Logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>One of the most basic tenets of logging is that it needs to be completely
transparent to your application.  Your application must not care if logging is
enabled or disabled: all it does is send messages to the logging framework,
which then handles all of the filtering and routing required to get the message
to its final destination.  This also makes it possible to write unit tests that
don&#8217;t care about logging at all.  If the logging system is not initialized, the
worst that should happen is that nothing gets logged.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_to_do_proper_logging"><a class="anchor" href="#_how_to_do_proper_logging"></a>How to do proper logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that we understand what the normal features of logging libraries are,
it’s time to talk about how to do proper logging.  As we’ve mentioned
before, the two main things to worry about when logging are what the level of
the message is, and the classification of the log message.  For the
classification of the log message, this will often be the name of the class
that is doing the logging.  Assuming that you have a good design already, then
the classification derives clearly from the name of the class and the
package/namespace the class is in.</p>
</div>
<div class="paragraph">
<p>Choosing the level of the log message can be a bit trickier.  A good rule of
thumb is to leave your log messages at INFO level during normal operation, so
what should we put at that level and what should be more verbose?  Let’s
assume that we are opening a network socket for remote communications.  At the
INFO level we may inform that the network subsystem is starting up and ready
for work.  DEBUG information could include new connections from clients with
their IP/port combination, while TRACE information could be output whenever a
packet comes in from a client.  In addition, we may have ERROR messages if we
are unable to open a socket for reading/writing.</p>
</div>
<div class="paragraph">
<p>By having different pieces of the data flow at different log levels, it makes
it easy to quickly look at the logs and determine how serious a problem is and
what the system is doing during operation.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_other_things_to_worry_about_when_logging"><a class="anchor" href="#_other_things_to_worry_about_when_logging"></a>Other things to worry about when logging</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As we have seen, having a good logging framework is critical to being able to
find and fix errors in applications.  However, just because we have logging
doesn’t mean that it is infallible.  Since logging code that you insert into
your application is still code that you have written, it is always possible
that the log messages you get out are lying to you due to a bug in a log
statement.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_features_that_the_apache_logging_services_projects_have"><a class="anchor" href="#_features_that_the_apache_logging_services_projects_have"></a>Features that the Apache Logging Services projects have</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While there are many different logging frameworks that exist for Java, C++, and
.NET, there are a number of built-in features that Log4j2, Log4cxx, and Log4net
have that are generally useful.</p>
</div>
<div class="sect2">
<h3 id="_hierarchichal_logging"><a class="anchor" href="#_hierarchichal_logging"></a>Hierarchichal Logging</h3>
<div class="paragraph">
<p>As mentioned previously, hierarchical logging allows for easy grouping of
subsystem information.  This allows you to have fine-grained control over the
information that you are logging and easily allows for one logger per-class.</p>
</div>
<div class="paragraph">
<p>This hierarchical logging also means that you don&#8217;t need to explicitly share
a sink between loggers.  While it is possible to configure Log4j2 and Log4cxx
to send each logger to a separate location, the parent/child relationship means
that children will log their messages to any sinks that their parents have.</p>
</div>
</div>
<div class="sect2">
<h3 id="_location_information"><a class="anchor" href="#_location_information"></a>Location Information</h3>
<div class="paragraph">
<p>Knowing exactly where a log statement is can be vital in order to track down
the location of a log statement.  Both Log4j2 and Log4cxx are able to determine
the filename, class name, method name, and line number where the log message
is coming from.  With Log4cxx, this is able to be done at compile-time.</p>
</div>
</div>
<div class="sect2">
<h3 id="_static_and_single_instance_loggers"><a class="anchor" href="#_static_and_single_instance_loggers"></a>Static and Single-instance Loggers</h3>
<div class="paragraph">
<p>All loggers that are created with Log4j2 and Log4cxx are able to be declared
as static variables in your source file, eliminating the need for a dedicated
instance variable of a logger per-class.  A side effect of this is that there
is a global logger registry, so that you can access the same logger via a
static LogManager in different classes without having to pass the logger around.</p>
</div>
</div>
<div class="sect2">
<h3 id="_nested_and_mapped_diagnostic_contexts"><a class="anchor" href="#_nested_and_mapped_diagnostic_contexts"></a>Nested and Mapped Diagnostic Contexts</h3>
<div class="paragraph">
<p>When you have multiple objects of the same type, using a static logger can be
problematic when you need to only view data for one instance of the class.  By
providing a Nested Diagnostic Context and a Mapped Diagnostic Context, it is
possible to add context information to your log statements.</p>
</div>
</div>
<div class="sect2">
<h3 id="_flexible_log_message_formatting"><a class="anchor" href="#_flexible_log_message_formatting"></a>Flexible Log Message Formatting</h3>
<div class="paragraph">
<p>When sending a log message to a flat text file, it is often desirable to have
the messages in a simple to understand format.  This information can include
data such as the date/time of the log message, the level of the message, the
logger that produced the message, and the message itself.  With the Log4j2
and Log4cxx PatternLayout classes, it is possible to quickly configure the
logging system to output information in a convenient format.</p>
</div>
<div class="paragraph">
<p>Different types of log message formatting is also important when you need
to send messages to different locations.  The code that creates the log messages
should not know anything about how the message is formatted on the backend.
This allows for the same log message to be formatted in different ways with
potentially different metadata - for example, JSON format for a log aggregating
service, or plain text for a local configuration file.</p>
</div>
</div>
<div class="sect2">
<h3 id="_configuration_via_config_file"><a class="anchor" href="#_configuration_via_config_file"></a>Configuration via config file</h3>
<div class="paragraph">
<p>Both Log4j2 and Log4cxx can be configured with a configuration file in one of
several different formats.  While it is always possible to configure via code,
configuration files make it easy to reconfigure the system without having to
recompile your code.  This also means it is possible to edit a configuration
file and dynamically change the configuration at runtime.  For example, you
can turn on a logger that was previously off if you are debugging a live
system.</p>
</div>
</div>
<div class="sect2">
<h3 id="_garbage_free_log4j2"><a class="anchor" href="#_garbage_free_log4j2"></a>Garbage-free (Log4j2)</h3>
<div class="paragraph">
<p>In Java, it is important to reduce the amount of time that the garbage
collector takes to run.  By not allocating and freeing objects, your
log statements will add very little to the runtime overhead of your application.</p>
</div>
</div>
<div class="sect2">
<h3 id="_formatting_with_replacements"><a class="anchor" href="#_formatting_with_replacements"></a>Formatting with replacements</h3>
<div class="paragraph">
<p>When creating a log statement, it is often slow and annoying to perform string
concatenation to create a log statement.  In Java, the simplest way to
concatenate a string is to simply use the + operator:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">log("Logging information: " + someVariable + " and the other variable is " + otherVariable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>While in C++, you can get into a chevron overload:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">log("Logging information: " &lt;&lt; someVariable &lt;&lt; " and the other variable is " &lt;&lt; otherVariable);</code></pre>
</div>
</div>
<div class="paragraph">
<p>Both Log4j2 and Log4cxx allow for variable replacements in strings, such that
the above log statements can both be written similar to the following:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-none hljs">log("Logging information: {} and the other variable is {}", someVariable, otherVariable);</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_filtering"><a class="anchor" href="#_filtering"></a>Filtering</h3>
<div class="paragraph">
<p>When you have many different log messages that you are trying to make sense of,
it can be difficult to focus on the correct piece of information.  Because of
this, it is possible to configure both Log4j2 and Log4cxx to filter certain
messages based off of various attributes, such as a text string that is contained
within the log message.  Since these filters are also able to be configured
through the confgiuration file, adding or removing filters is a simple operation.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_conclusion"><a class="anchor" href="#_conclusion"></a>Conclusion</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Logging is a rather complicated topic that covers many different aspects.  While
different applications will have different requirements for their log statements,
the projects of the Apache Logging Services Commitee provide a generic and
widely applicable implemenation of logging for all kinds of applications.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p>
    Copyright © 1999-2025 <a href="https://www.apache.org/">The Apache Software Foundation</a>.
    Licensed under the <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache Software License, Version 2.0</a>.
    Please read our <a href="https://privacy.apache.org/policies/privacy-policy-public.html">privacy policy</a>.
  </p>
  <p>
    Apache, Log4j, and the Apache feather logo are trademarks or registered trademarks of The Apache Software Foundation.
    Oracle and Java are registered trademarks of Oracle and/or its affiliates.
    Other names may be trademarks of their respective owners.
  </p>
</footer>
<script id="site-script" src="./_/js/site.js" data-ui-root-path="./_"></script>
<script async src="./_/js/vendor/highlight.js"></script>
<!-- `@asciidoctor/tabs` extension scripts -->
<script async src="./_/js/vendor/tabs.js"></script>
  </body>
</html>
